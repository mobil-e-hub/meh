(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},n={app:0},o=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("1112")},1112:function(t,e,s){"use strict";s.r(e);s("1852"),s("c8fb"),s("c12e"),s("848f");var i,n,o,a,r,c,l=s("2b0e"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("b-navbar",{attrs:{fixed:"top",variant:"light"}},[[i("div",{class:{active:this.display.isSidebarVisible},attrs:{id:"burger"},on:{click:function(e){return e.preventDefault(),t.toggleSidebar(e)}}},[t._t("default",[i("button",{staticClass:"burger-button",attrs:{type:"button",title:"Menu"}},[i("span",{staticClass:"hidden"},[t._v("Toggle menu")]),i("span",{staticClass:"burger-bar burger-bar--1"}),i("span",{staticClass:"burger-bar burger-bar--2"}),i("span",{staticClass:"burger-bar burger-bar--3"})])])],2)],i("b-navbar-brand",[t._v(" mobil-e-Hub ")]),i("b-navbar-nav",[i("b-nav-text",[t._v(" Visualization Dashboard ")])],1),i("b-navbar-nav",{staticClass:"ml-auto"},[i("b-nav-form",[i("b-button-toolbar",[i("b-button",{attrs:{variant:"link",title:t.listening?"Stop listening":"Start listening"},on:{click:function(e){t.listening=!t.listening}}},[i("b-icon",{attrs:{icon:"record-circle-fill",variant:t.listening?"danger":"secondary","aria-hidden":"true"}})],1),i("b-button",{attrs:{variant:"link",title:"Start simulation"},on:{click:function(e){return t.$eventGrid.publish("start")}}},[i("b-icon",{attrs:{icon:"play-fill","aria-hidden":"true"}})],1),i("b-button",{attrs:{variant:"link",title:"Stop simulation"},on:{click:function(e){return t.$eventGrid.publish("stop")}}},[i("b-icon",{attrs:{icon:"stop-fill","aria-hidden":"true"}})],1),i("b-button",{attrs:{variant:"link",title:"Reset simulation"},on:{click:function(e){return t.$eventGrid.publish("reset")}}},[i("b-icon",{attrs:{icon:"arrow-counterclockwise","aria-hidden":"true"}})],1),i("b-button",{attrs:{variant:"link",title:"Zoom in"},on:{click:function(e){return t.$store.commit("mapZoom",{factor:1.25})}}},[i("b-icon",{attrs:{icon:"zoom-in","aria-hidden":"true"}})],1),i("b-nav-text",{staticStyle:{"min-width":"50px","text-align":"center"}},[t._v(t._s(Math.round(100*t.$store.state.settings.map.zoom.factor))+"%")]),i("b-button",{attrs:{variant:"link",title:"Zoom out"},on:{click:function(e){return t.$store.commit("mapZoom",{factor:.8})}}},[i("b-icon",{attrs:{icon:"zoom-out","aria-hidden":"true"}})],1),i("b-button",{attrs:{variant:"link",title:"Run test function"},on:{click:t.clickTestButton}},[i("b-icon",{attrs:{icon:"braces","aria-hidden":"true"}})],1),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-send-message",modifiers:{"modal-send-message":!0}}],attrs:{variant:"link",title:"Send message"}},[i("b-icon",{attrs:{icon:"terminal-fill","aria-hidden":"true"}})],1),i("b-modal",{attrs:{id:"modal-send-message",title:"Send message"},on:{ok:t.clickSendButton}},[i("b-form-group",{attrs:{label:"Sender","label-for":"input-message-sender"}},[i("b-form-input",{attrs:{id:"input-message-sender",placeholder:"from/visualization/..."},model:{value:t.command.message.sender,callback:function(e){t.$set(t.command.message,"sender",e)},expression:"command.message.sender"}})],1),i("b-form-group",{attrs:{label:"Topic","label-for":"input-message-topic"}},[i("b-form-input",{attrs:{id:"input-message-topic",placeholder:"status",required:""},model:{value:t.command.message.topic,callback:function(e){t.$set(t.command.message,"topic",e)},expression:"command.message.topic"}})],1),i("b-form-group",{attrs:{label:"Message","label-for":"input-message-message"}},[i("b-form-input",{attrs:{id:"input-message-message",placeholder:"{ data: 'Hello World' }",required:""},model:{value:t.command.message.message,callback:function(e){t.$set(t.command.message,"message",e)},expression:"command.message.message"}})],1)],1),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-place-order",modifiers:{"modal-place-order":!0}}],attrs:{variant:"link",title:"Place order"}},[i("b-icon",{attrs:{icon:"bag-plus-fill","aria-hidden":"true"}})],1),i("b-modal",{attrs:{id:"modal-place-order",title:"Place order"},on:{ok:t.clickPlaceOrderButton}})],1)],1)],1)],2),i("b-container",{staticClass:"my-5",attrs:{fluid:""}},[i("b-row",{staticClass:"pt-4"},[i("b-col",{attrs:{cols:"none"===t.view?12:9}},[i("svg",{ref:"svg",attrs:{width:"100%",height:"85vh",xmlns:"http://www.w3.org/2000/svg"},on:{wheel:function(e){return e.preventDefault(),t.onMouseWheelMap(e)},mousedown:function(e){return e.preventDefault(),t.onMouseDownMap(e)},mousemove:function(e){return e.preventDefault(),t.onMouseMoveMap(e)},mouseup:function(e){return e.preventDefault(),t.onMouseUpMap(e)}}},[t._l(t.$store.state.topology.nodes,(function(t,e){return i("node",{key:e,attrs:{id:e}})})),t._l(t.$store.state.topology.edges,(function(t,e){return i("edge",{key:e,attrs:{id:e}})})),t._l(t.$store.state.entities.hubs,(function(t,e){return i("hub",{key:e,attrs:{id:e}})})),t._l(t.entities.cars,(function(e,n){return i("use",{key:n,attrs:{x:e.cx-e.width/2,y:e.cy-e.height/2,width:e.width,height:e.height,fill:e.fill,href:s("372d")+"#car-symbol",transform:"scale(1, -1)"}},[i("title",[t._v("Car "+t._s(n)+" ("+t._s(e.state)+")")])])})),t._l(t.entities.buss,(function(e,n){return i("use",{key:n,attrs:{x:e.position.x-t.entitySize.bus+2,y:-e.position.y-t.entitySize.bus+3,width:2*t.entitySize.bus,height:2*t.entitySize.bus,href:s("372d")+"#bus-symbol",fill:"blue",transform:"scale(1, -1)"}},[i("title",[t._v("Bus "+t._s(e.id)+" ("+t._s(e.state)+")")])])})),t._l(t.$store.state.entities.drones,(function(t,e){return i("drone",{key:e,attrs:{id:e}})})),t._l(t.lodash.pickBy(t.entities.parcels,(function(t,e){return null!==t.cx})),(function(t,e){return i("use",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.right",value:"Parcel "+e+" (Source: "+t.carrier.id+", Destination: "+t.destination.id+")",expression:"`Parcel ${id} (Source: ${parcel.carrier.id}, Destination: ${parcel.destination.id})`",modifiers:{hover:!0,right:!0}}],key:e,attrs:{x:t.cx-t.width/2,y:t.cy-t.height/2,width:t.width,height:t.height,fill:t.fill,href:s("372d")+"#parcel-symbol",transform:"scale(1, -1)",title:"Parcel details"}})}))],2)]),"none"!==t.view?i("b-col",{attrs:{cols:"3"}},["messages"===t.view?i("messages",{attrs:{messages:t.messages.messages}}):"entities"===t.view?i("entities"):"settings"===t.view?i("settings"):t._e()],1):t._e()],1)],1),i("b-navbar",{attrs:{fixed:"bottom",variant:"light"}},[i("b-navbar-nav",[i("b-nav-item",{attrs:{href:"https://www.institute-for-enterprise-systems.de/"}},[t._v(" Â© 2021 InES ")])],1),i("b-navbar-nav",{staticClass:"mx-auto"},[t.listening?i("b-nav-text",{staticClass:"mx-3"},[t._v(t._s(t.incomingMessageCounter))]):t._e(),i("b-nav-text",{staticClass:"mx-2",attrs:{title:"Number of hubs"}},[i("font-awesome-icon",{staticStyle:{color:"gray"},attrs:{icon:"warehouse"}}),t._v(": "+t._s(Object.keys(t.entities.hubs).length)+" ")],1),i("b-nav-text",{staticClass:"mx-3",attrs:{title:"Number of drones"}},[i("font-awesome-icon",{staticStyle:{color:"red"},attrs:{icon:"plane"}}),t._v(": "+t._s(Object.keys(t.entities.drones).length)+" ")],1),i("b-nav-text",{staticClass:"mx-3",attrs:{title:"Number of cars"}},[i("font-awesome-icon",{staticStyle:{color:"blue"},attrs:{icon:"car"}}),t._v(": "+t._s(Object.keys(t.entities.cars).length)+" ")],1),i("b-nav-text",{staticClass:"mx-3",attrs:{title:"Number of busses"}},[i("font-awesome-icon",{staticStyle:{color:"blue"},attrs:{icon:"bus"}}),t._v(": "+t._s(Object.keys(t.entities.buss).length)+" ")],1),i("b-nav-text",{staticClass:"mx-3",attrs:{title:"Number of parcels"}},[i("font-awesome-icon",{staticStyle:{color:"green"},attrs:{icon:"archive"}}),t._v(": "+t._s(Object.keys(t.entities.parcels).length)+" ")],1)],1),i("b-navbar-nav",[i("b-nav-item",{attrs:{href:"https://github.com/mobil-e-hub/meh"}},[i("b-icon",{staticClass:"mr-2",attrs:{icon:"github","aria-hidden":"true"}}),t._v("View on Github ")],1)],1)],1),i("b-button",{staticClass:"floating",staticStyle:{bottom:"170px"},attrs:{variant:"messages"===t.view?"primary":"secondary",title:"Messages View"},on:{click:function(e){return t.onClickView("messages")}}},[i("b-icon",{attrs:{icon:"chat-left-text","aria-hidden":"true"}})],1),i("b-button",{staticClass:"floating",staticStyle:{bottom:"110px"},attrs:{variant:"entities"===t.view?"primary":"secondary",title:"Entities View"},on:{click:function(e){return t.onClickView("entities")}}},[i("b-icon",{attrs:{icon:"clipboard-data","aria-hidden":"true"}})],1),i("b-button",{staticClass:"floating",staticStyle:{bottom:"50px"},attrs:{variant:"settings"===t.view?"primary":"secondary",title:"Settings View"},on:{click:function(e){return t.onClickView("settings")}}},[i("b-icon",{attrs:{icon:"gear-fill","aria-hidden":"true"}})],1)],1)},d=[],p=(s("ca84"),s("7125"),s("3c16"),s("07ae"),s("9d7f"),s("c83e"),s("c2c2"),s("f669"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"mb-5"},[t._v("Messages")]),s("pre",{staticStyle:{"max-height":"70vh","overflow-y":"scroll","white-space":"pre-wrap","word-break":"keep-all"}},[t._v(t._s(t.messages.slice(0,100).map((function(t){return t.timestamp+" "+t.topic.string+": "+JSON.stringify(t.message)})).join("\n\n")))])])}),m=[],f={name:"Messages",props:{messages:Array},data:function(){return{}},computed:{}},h=f,g=s("5c7f"),b=Object(g["a"])(h,p,m,!1,null,null,null),y=b.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"mb-5"},[t._v("Entities")]),s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",[s("h4",[t._v("Hubs")]),s("b-list-group",t._l(t.$store.state.entities.hubs,(function(e,i){return s("b-list-group-item",{key:i},[t._v(t._s(i))])})),1)],1),s("b-col",[s("h4",[t._v("Drones")]),s("b-list-group",t._l(t.$store.state.entities.drones,(function(e,i){return s("b-list-group-item",{key:i},[t._v(t._s(i))])})),1)],1),s("b-col",[s("h4",[t._v("Cars")]),s("b-list-group",t._l(t.$store.state.entities.cars,(function(e,i){return s("b-list-group-item",{key:i},[t._v(t._s(i))])})),1)],1),s("b-col",[s("h4",[t._v("Buses")]),s("b-list-group",t._l(t.$store.state.entities.buss,(function(e,i){return s("b-list-group-item",{key:i},[t._v(t._s(i))])})),1)],1),s("b-col",[s("h4",[t._v("Parcels")]),s("b-list-group",t._l(t.$store.state.entities.parcels,(function(e,i){return s("b-list-group-item",{key:i},[t._v(t._s(i))])})),1)],1)],1)],1)],1)},x=[],$={name:"Entities",data:function(){return{}},computed:{}},w=$,_=Object(g["a"])(w,v,x,!1,null,null,null),k=_.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"mb-5"},[t._v("Settings")]),s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"my-4"},[s("b-col",[s("h5",[t._v("Display")]),s("b-form-checkbox",{attrs:{id:"checkbox-zoom-entities"},model:{value:t.$store.state.settings.map.zoom.entities,callback:function(e){t.$set(t.$store.state.settings.map.zoom,"entities",e)},expression:"$store.state.settings.map.zoom.entities"}},[t._v(" Zoom entity sizes ")]),s("b-form-checkbox",{attrs:{id:"checkbox-zoom-topology"},model:{value:t.$store.state.settings.map.zoom.topology,callback:function(e){t.$set(t.$store.state.settings.map.zoom,"topology",e)},expression:"$store.state.settings.map.zoom.topology"}},[t._v(" Zoom node/edge sizes ")])],1)],1)],1)],1)},z=[],M={name:"Settings",data:function(){return{}},computed:{}},T=M,O=Object(g["a"])(T,S,z,!1,null,null,null),C=O.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.node?s("circle",{attrs:{r:t.r,cx:t.displayPosition.cx,cy:t.displayPosition.cy,fill:"lightgray"}},[s("title",[t._v("Node "+t._s(t.node.id)+" ("+t._s(t.node.type)+")")])]):t._e()},j=[],D=(s("36fe"),{name:"Node",props:{id:String},data:function(){return{}},computed:{node:function(){return this.$store.state.topology.nodes[this.id]},r:function(){return this.$store.state.settings.map.displaySize.node*(this.$store.state.settings.map.zoom.topology?this.$store.state.settings.map.zoom.factor:1)},position:function(){return this.node?{cx:this.node.position.x,cy:this.node.position.y}:null},displayPosition:function(){return this.position?{cx:this.position.cx*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.x,cy:-this.position.cy*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.y}:null}}}),E=D,G=Object(g["a"])(E,P,j,!1,null,null,null),V=G.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.edge?s("line",{attrs:{x1:t.displayPosition.x1,y1:t.displayPosition.y1,x2:t.displayPosition.x2,y2:t.displayPosition.y2,stroke:"lightgray","stroke-width":t.width,"stroke-dasharray":t.dash}}):t._e()},B=[],H=(s("36fe"),{name:"Edge",props:{id:String},data:function(){return{}},computed:{edge:function(){return this.$store.state.topology.edges[this.id]},from:function(){return this.edge?this.$store.state.topology.nodes[this.edge.from]:null},to:function(){return this.edge?this.$store.state.topology.nodes[this.edge.to]:null},width:function(){return this.$store.state.settings.map.displaySize.edge*(this.$store.state.settings.map.zoom.topology?this.$store.state.settings.map.zoom.factor:1)},dash:function(){return"air"===this.edge.type?1:""},position:function(){return this.from&&this.to?{x1:this.from.position.x,y1:this.from.position.y,x2:this.to.position.x,y2:this.to.position.y}:null},displayPosition:function(){return this.position?{x1:this.position.x1*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.x,y1:-this.position.y1*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.y,x2:this.position.x2*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.x,y2:-this.position.y2*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.y}:null}}}),R=H,Y=Object(g["a"])(R,N,B,!1,null,null,null),Z=Y.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hub&&t.node?i("use",{attrs:{x:t.displayPosition.x,y:t.displayPosition.y,width:t.size,height:t.size,href:s("372d")+"#hub-symbol",fill:t.fill}},[i("title",[t._v("Hub "+t._s(t.hub.id)+" (Parcels: "+t._s(Object.keys(t.hub.parcels).length)+")")])]):t._e()},J=[],I=(s("36fe"),{name:"Hub",props:{id:String},data:function(){return{}},computed:{hub:function(){return this.$store.state.entities.hubs[this.id]},node:function(){return this.$store.state.topology.nodes[this.hub.position]},size:function(){return this.$store.state.settings.map.displaySize.hub*(this.$store.state.settings.map.zoom.entities?this.$store.state.settings.map.zoom.factor:1)},fill:function(){return"green"},position:function(){return this.node?{cx:this.node.position.x,cy:this.node.position.y}:null},displayPosition:function(){return this.position?{x:this.position.cx*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.x-this.size/2,y:-this.position.cy*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.y-this.size/2}:null}}}),W=I,q=Object(g["a"])(W,X,J,!1,null,null,null),A=q.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.drone?i("use",{attrs:{x:t.displayPosition.x,y:t.displayPosition.y,width:t.size,height:t.size,href:s("372d")+"#drone-symbol",fill:"red"}}):t._e()},K=[],F=(s("36fe"),{name:"Drone",props:{id:String},data:function(){return{}},computed:{drone:function(){return this.$store.state.entities.drones[this.id]},size:function(){return this.$store.state.settings.map.displaySize.drone*(this.$store.state.settings.map.zoom.entities?this.$store.state.settings.map.zoom.factor:1)},position:function(){return this.drone?{cx:this.drone.position.x,cy:this.drone.position.y}:null},displayPosition:function(){return this.position?{x:this.position.cx*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.x-this.size/2,y:-this.position.cy*this.$store.state.settings.map.zoom.factor+this.$store.state.settings.map.origin.y-this.size/2}:null}}}),L=F,Q=Object(g["a"])(L,U,K,!1,null,null,null),tt=Q.exports,et={},st=Object(g["a"])(et,i,n,!1,null,null,null),it=(st.exports,{}),nt=Object(g["a"])(it,o,a,!1,null,null,null),ot=(nt.exports,{}),at=Object(g["a"])(ot,r,c,!1,null,null,null),rt=(at.exports,s("2ef0")),ct={data:function(){return{lodash:rt,listening:!0,view:"none",messages:{messages:[],counterInterval:10},entities:{raw:{drones:{},cars:{},parcels:{},hubs:{}},drones:{},cars:{},buss:{},parcels:{},hubs:{}},map:{drag:{isDragging:!1,x:0,y:0}},display:{isSidebarVisible:!1,areToastsEnabled:!0,enabledToastTypes:["status"],statsTableVisible:!1},stats:{waitingDrones:0,avgDroneWaitTime:0,waitingCars:0},command:{message:{topic:null,message:null,sender:null},order:{vendor:null,customer:null,pickup:null,dropoff:null}},currentTime:Date.now()}},components:{Messages:y,Entities:k,Settings:C,Node:V,Edge:Z,Hub:A,Drone:tt},created:function(){var t=this;this.$eventGrid.subscribe("#",(function(e,s,i){return t.messages.messages.unshift({topic:e,message:s,timestamp:i.timestamp})})),this.$eventGrid.subscribe("from/+/+/state",(function(e,s){return t.$store.commit("updateEntityState",{type:e.entity,id:e.id,payload:s})})),this.$eventGrid.subscribe("to/drone/+/tasks",(function(e,s){return t.showToastRouting("Task assigned","Drone ".concat(e.id," has been assigned a new task."))})),this.$eventGrid.subscribe("from/parcel/+/placed",(function(e,s){return t.showToastStatus("Order placed","Parcel ".concat(e.id," has been placed at hub ").concat(s.carrier.id," with destination ").concat(s.destination.id,"."))})),this.$eventGrid.subscribe("from/control-system/+/route-update",(function(e,s){return t.showToastRouting("Route update","Control System ".concat(e.id," has updated the routes."))})),this.$eventGrid.subscribe("from/car/+/arrived",(function(e,s){return t.showToastStatus("Car arrived","Car ".concat(e.id," has arrived at node ").concat(s,"."))})),this.$eventGrid.subscribe("from/+/+/mission/+/complete",(function(e,s){return t.showToastStatus("Mission complete","".concat(e.entity," ").concat(e.id," has completed mission ").concat(e.args[1],"."))})),this.$eventGrid.subscribe("from/+/+/transaction/+/complete",(function(e,s){return t.showToastStatus("Transaction complete","".concat(e.entity," ").concat(e.id," has completed transaction ").concat(e.args[1],"."))})),this.$eventGrid.subscribe("from/parcel/+/delivered",(function(e,s){return t.showToastStatus("Parcel delivered","Parcel ".concat(e.id," has reached its destination ").concat(s.destination.id,"."))})),this.$eventGrid.subscribe("to/visualization/#",(function(e,s){return t.showToastStatus("Message received","".concat(e.string["short"],": ").concat(JSON.stringify(s)))}))},mounted:function(){var t=this;setInterval((function(){t.currentTime=Date.now()}),1e3),this.$store.commit("mapSetOrigin",{x:this.$refs.svg.clientWidth/2,y:this.$refs.svg.clientHeight/2})},methods:{onMouseWheelMap:function(t){this.$store.commit("mapZoom",{factor:t.deltaY>0?1/1.05:1.05})},onMouseDownMap:function(t){this.map.drag.x=t.offsetX,this.map.drag.y=t.offsetY,this.map.drag.isDragging=!0},onMouseMoveMap:function(t){this.map.drag.isDragging&&(this.$store.commit("mapMove",{offsetX:t.offsetX-this.map.drag.x,offsetY:t.offsetY-this.map.drag.y}),this.map.drag.x=t.offsetX,this.map.drag.y=t.offsetY)},onMouseUpMap:function(t){this.$store.commit("mapMove",{offsetX:t.offsetX-this.map.drag.x,offsetY:t.offsetY-this.map.drag.y}),this.map.drag.isDragging=!1},onClickView:function(t){this.view=this.view===t?"none":t},showToastStatus:function(t,e){this.display.enabledToastTypes.includes("status")&&this.showToast(t,e)},showToastRouting:function(t,e){this.display.enabledToastTypes.includes("routing")&&this.showToast(t,e)},showToast:function(t,e){this.display.areToastsEnabled&&this.$bvToast.toast(e,{title:t,autoHideDelay:3e3,toaster:"b-toaster-bottom-left"})},clickSendButton:function(){this.$eventGrid.publish(this.command.message.topic,JSON.stringify(this.command.message.message),this.command.message.sender)},clickTestButton:function(){this.$eventGrid.publish("bla","hello")},clickPlaceOrderButton:function(){this.$eventGrid.publish("place-order",{id:this.$uuid(),vendor:{type:"customer",id:this.command.order.vendor},customer:{type:"customer",id:this.command.order.customer},pickup:this.command.order.pickup,dropoff:this.command.order.dropoff})},toggleSidebar:function(){this.display.isSidebarVisible=!this.display.isSidebarVisible}},computed:{toggleStatsTable:{get:function(){return this.display.statsTableVisible},set:function(t){this.display.statsTableVisible=t,this.$emit("change",t)}},toggleToasts:{get:function(){return this.display.areToastsEnabled},set:function(t){this.display.areToastsEnabled=t,this.$emit("change",t)}},incomingMessageCounter:function(){var t=this,e=this.messages.messages.reduce((function(e,s){return e+(t.currentTime-s.timestamp<=1e3*t.messages.counterInterval?1:0)}),0);return e>0?"".concat(e/this.messages.counterInterval," messages per second"):"No messages incoming"}}},lt=ct,ut=(s("fffb"),Object(g["a"])(lt,u,d,!1,null,null,null)),dt=ut.exports,pt=s("2f62"),mt=s("36fe"),ft=s.n(mt);l["default"].use(pt["a"]);var ht={drone:"drones",car:"cars",bus:"buses",parcel:"parcels",hub:"hubs",address:"addresses"},gt=new pt["a"].Store({state:{entities:{drones:{},cars:{},buses:{},parcels:{},hubs:{},addresses:{}},topology:ft.a,settings:{map:{origin:{x:0,y:0},zoom:{factor:4,entities:!0,topology:!0},displaySize:{hub:10,drone:5,car:20,bus:10,parcel:12,node:2,edge:1,address:7}}}},getters:{},mutations:{updateEntityState:function(t,e){var s=e.type,i=e.id,n=e.payload;l["default"].set(t.entities[ht[s]],i,n)},mapZoom:function(t,e){var s=e.factor;t.settings.map.zoom.factor*=s},mapMove:function(t,e){var s=e.offsetX,i=e.offsetY;t.settings.map.origin.x+=s,t.settings.map.origin.y+=i},mapSetOrigin:function(t,e){var s=e.x,i=e.y;t.settings.map.origin.x=s,t.settings.map.origin.y=i}}}),bt=s("e144"),yt=bt.v4,vt={install:function(t,e){t.prototype.$uuid=function(){return yt().substr(0,8)}}},xt=s("55b7"),$t=s("96f8"),wt=(s("e6d9"),s("ec35"),s("8e27")),_t=s("c052"),kt={install:function(t,e){var s=wt("wss://ines-gpu-01.informatik.uni-mannheim.de/meh/wss"),i={};s.on("eventgrid",(function(t){for(var e=t.topic,s=t.message,n=0,o=Object.entries(i);n<o.length;n++){var a=Object($t["a"])(o[n],2),r=a[0],c=a[1];_t(r,e.string)&&c(e,s,{timestamp:Date.now()})}})),t.prototype.$eventGrid={publish:function(){var t=Object(xt["a"])(regeneratorRuntime.mark((function t(i){var n,o,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:"",o=a.length>2&&void 0!==a[2]?a[2]:"".concat(e.type,"/").concat(e.id),s.emit("eventgrid",{topic:"".concat(o,"/").concat(i),message:n});case 3:case"end":return t.stop()}}),t)})));function i(e){return t.apply(this,arguments)}return i}(),subscribe:function(t,e){i[t]=e},unsubscribe:function(t){delete i[t]}}}},St=s("5f5b"),zt=s("b1e0"),Mt=(s("f9e3"),s("2dd8"),s("e144")),Tt=Mt.v4;l["default"].use(St["a"]),l["default"].use(zt["a"]),l["default"].config.productionTip=!1,l["default"].use(vt),l["default"].use(kt,{type:"visualization",id:Tt().substr(0,8)}),new l["default"]({render:function(t){return t(dt)},store:gt}).$mount("#app")},"36fe":function(t,e){t.exports={nodes:{n00:{id:"n00",position:{x:-50,y:50,z:0},type:"parking"},n01:{id:"n01",position:{x:-50,y:-50,z:0},type:"parking"},n02:{id:"n02",position:{x:50,y:-50,z:0},type:"road"},n03:{id:"n03",position:{x:50,y:50,z:0},type:"road"},n04:{id:"n04",position:{x:-50,y:60,z:0},type:"air"},n05:{id:"n05",position:{x:-60,y:60,z:0},type:"air"},n06:{id:"n06",position:{x:-60,y:50,z:0},type:"air"},n07:{id:"n07",position:{x:-60,y:-60,z:0},type:"air"},n08:{id:"n08",position:{x:0,y:0,z:0},type:"road"},n09:{id:"n09",position:{x:50,y:0,z:0},type:"parking"},n10:{id:"n10",position:{x:60,y:0,z:0},type:"air"}},edges:{e00:{id:"e00",from:"n00",to:"n01",type:"road",distance:100},e01:{id:"e01",from:"n01",to:"n02",type:"road",distance:100},e02:{id:"e02",from:"n02",to:"n09",type:"road",distance:50},e10:{id:"e10",from:"n09",to:"n03",type:"road",distance:50},e03:{id:"e03",from:"n03",to:"n00",type:"road",distance:100},e04:{id:"e04",from:"n00",to:"n04",type:"air",distance:10},e05:{id:"e05",from:"n04",to:"n05",type:"air",distance:10},e06:{id:"e06",from:"n05",to:"n06",type:"air",distance:10},e07:{id:"e07",from:"n06",to:"n00",type:"air",distance:10},e08:{id:"e08",from:"n01",to:"n07",type:"air",distance:14},e09:{id:"e09",from:"n07",to:"n01",type:"air",distance:14},e11:{id:"e11",from:"n00",to:"n08",type:"road",distance:71},e12:{id:"e12",from:"n08",to:"n01",type:"road",distance:71},e13:{id:"e13",from:"n08",to:"n09",type:"road",distance:50},e14:{id:"e14",from:"n09",to:"n10",type:"air",distance:10},e15:{id:"e15",from:"n10",to:"n09",type:"air",distance:10}},addresses:{a00:{id:"a00",position:{x:-50,y:55},name:"5 Main St"},a01:{id:"a01",position:{x:0,y:55},name:"10 Main St"},a02:{id:"a02",position:{x:50,y:55},name:"15 Main St"},a03:{id:"a03",position:{x:-50,y:-55},name:"5 Second St"},a04:{id:"a04",position:{x:0,y:-55},name:"10 Second St"},a05:{id:"a05",position:{x:50,y:-55},name:"15 Second St"}},customers:{c00:{id:"c00",name:"Awesome Cake Bakery",address:"a00"},c01:{id:"c01",name:"Miss Scarlett",address:"a02"},c02:{id:"c02",name:"Professor Plum",address:"a04"},c03:{id:"c03",name:"Mrs. Peacock",address:"a03"},c04:{id:"c04",name:"Colonel Mustard",address:"a05"},c05:{id:"c05",name:"CVS Pharmacy",address:"a05"},c06:{id:"c06",name:"Burger King",address:"a05"},c07:{id:"c07",name:"St John's Hospital",address:"a05"}}}},"372d":function(t,e,s){t.exports=s.p+"img/entities.95cf6f1f.svg"},"49a0":function(t,e,s){},fffb:function(t,e,s){"use strict";s("49a0")}});
//# sourceMappingURL=app.7fa647ea.js.map