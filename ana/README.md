# mobil-e-Hub: Analysis Engine
Authors: 
- Michael Pernpeintner (pernpeintner@es.uni-mannheim.de)
- Alexander Becker
- Tim Grams

Language: Python

## Purpose of this module
The analysis engine collects all MQTT-messages, allows to investigate experiments and create plots.

## Structure

**analysis_engine.py**  
Defines callbacks for the MQTT-messages. Can be seen as a bridge between the MQTT-Client and the Database.

**database.py**  
Defines the tables in the database as objects. Functions in the class Database can be used to insert new objects into their respective tables or to query existing ones.

**utils.py**  
Provides the function to base64 encode the topology before it is inserted into the database.

**typography.css**  
Allows to style the Plot.ly Web Interface.

A great Plot.ly Dash Introduction and available components can be found in the [documentation](https://dash.plotly.com/).

Latex Plots can be generated by converting Maplotlib Graphs using the [Tikplotzlib](https://pypi.org/project/tikzplotlib/) library.

## Other Things

**Monitoring Solution**  
Checks for new services can be added in `src/app/app.component.ts` with the list called `services`:
```javascript
{
    name: <name-placeholder>,
    path: <http-path-placeholder>,
    running: false
}
```

**Certbot**  
Certificates should be updated automatically.
If not: `certbot renew`


